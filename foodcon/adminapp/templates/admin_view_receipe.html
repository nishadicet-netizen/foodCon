{% include 'admin_header.html' %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


<!-- ======= Stats Counter Section ======= -->
<section style="height: 300px" id="stats-counter" class="stats-counter">
  <div class="container" data-aos="zoom-out">
    <br><br><br>
    <h1 align="center" style="color: white;">Recipe</h1>
    <div class="row gy-4"></div>
  </div>
</section>

<center>
  <br><br>

  <div class="card" style="width: 1400px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
    <div class="card-body">
      <table class="table table-bordered table-hover">
        <thead style="background-color: #f8f9fa; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
          <tr>
            <th style="color: #343a40;">Slno</th>
            <th style="color: #343a40;">Chef</th>
            <th style="color: #343a40;">Recipes</th>
            <th style="color: #343a40;">Details</th>
            <th style="color: #343a40;">Ingredients</th>
            <th style="color: #343a40;">Image</th>
            <th style="color: #343a40;">Video</th>
            <th style="color: #343a40;">Date</th>
            <th style="color: #343a40;">Rating</th>
          </tr>
        </thead>
        <tbody>
          {% for row in data.receipe %}  <!-- Changed from data['receipe'] to data.receipe -->
          <tr>
            <td>{{ forloop.counter }}</td>  <!-- Use forloop.counter for indexing -->
            <td>{{ row.fname }} {{ row.lname }}</td>  <!-- Changed to attribute style -->
            <td>{{ row.receipe }}</td>  <!-- Changed to attribute style -->
            <td>{{ row.details }}</td>  <!-- Changed to attribute style -->
            <td>{{ row.incridients }}</td>  <!-- Changed to attribute style -->
            <td><img src="/{{ row.image }}" width="100" height="100" alt="Recipe Image"></td>  <!-- Changed to attribute style -->
            <td>
              <video width="320" height="240" controls>
                <source src="/{{ row.video }}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </td>
            <td>{{ row.date }}</td>  <!-- Changed to attribute style -->
            <td>
              {% if row.avg_rating %}
                <div class="rating">
                  {% for i in range(1, 6) %}
                    {% if i <= row.avg_rating %}
                      <i class="fas fa-star" style="color: gold;"></i>  <!-- Full star -->
                    {% elif i - 0.5 <= row.avg_rating %}
                      <i class="fas fa-star-half-alt" style="color: gold;"></i>  <!-- Half star -->
                    {% else %}
                      <i class="far fa-star" style="color: gold;"></i>  <!-- Empty star -->
                    {% endif %}
                  {% endfor %}
                </div>
              {% else %}
                <span>No rating added</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</center>


{% include 'footer.html' %}
